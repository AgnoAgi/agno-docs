<ResponseField name="llm" type="LLM">
  LLM to use for this Agent
</ResponseField>
<ResponseField name="introduction" type="str">
  Agent introduction. This is added to the chat history when a run is
  started.
</ResponseField>
<ResponseField name="name" type="str">
  Agent name
</ResponseField>
<ResponseField name="agent_data" type="Dict[str, Any]">
  Metadata associated with this agent
</ResponseField>

<ResponseField name="run_id" type="str">
  Run UUID (autogenerated if not set)
</ResponseField>
<ResponseField name="run_name" type="str">
  Run name
</ResponseField>
<ResponseField name="run_data" type="Dict[str, Any]">
  Metadata associated with this run
</ResponseField>

<ResponseField name="user_id" type="str">
  ID of the user participating in this run
</ResponseField>
<ResponseField name="user_data" type="Dict[str, Any]">
  Metadata associated the user participating in this run
</ResponseField>

<ResponseField name="memory" type="AgentMemory" default="AgentMemory()">
  Agent Memory
</ResponseField>
<ResponseField name="add_chat_history_to_messages" type="bool" default="False">
  Add chat history to the messages sent to the LLM.
</ResponseField>
<ResponseField name="add_chat_history_to_prompt" type="bool" default="False">
  Add chat history to the prompt sent to the LLM.
</ResponseField>
<ResponseField name="num_history_messages" type="int" default="6">
  Number of previous messages to add to prompt or messages sent to the LLM.
</ResponseField>

<ResponseField name="knowledge_base" type="AgentKnowledge">
  Agent Knowledge Base
</ResponseField>
<ResponseField name="add_references_to_prompt" type="bool" default="False">
  Enable RAG by adding references from the knowledge base to the prompt.
</ResponseField>

<ResponseField name="storage" type="AgentStorage">
  Agent Storage
</ResponseField>
<ResponseField name="db_row" type="AgentRun">
  AgentRun from the database: DO NOT SET MANUALLY
</ResponseField>
<ResponseField
  name="tools"
  type="List[Union[Tool, ToolRegistry, Callable, Dict, Function]]"
>
  A list of tools provided to the LLM. Tools are functions the model may
  generate JSON inputs for. If you provide a dict, it is not called by the
  model.
</ResponseField>
<ResponseField name="show_tool_calls" type="bool" default="False">
  Show tool calls in LLM messages.
</ResponseField>
<ResponseField name="tool_call_limit" type="int">
  Maximum number of tool calls allowed.
</ResponseField>
<ResponseField name="tool_choice" type="Union[str, Dict[str, Any]]">
  Controls which (if any) tool is called by the model.
  - "none" means the model will not call a tool and instead generates a message.
  - "auto" means the model can pick between generating a message or calling a tool.
  - Specifying a particular function via
  ```
  {
    "type: "function",
    "function": {"name": "my_function"}
  }
  ```
  forces the model to call that tool.

"none" is the default when no tools are present. "auto" is the default if tools are present.

</ResponseField>
<ResponseField name="read_chat_history" type="bool" default="False">
 If True, adds a tool that allows the LLM to get the chat history.
</ResponseField>
<ResponseField name="search_knowledge" type="bool" default="False">
  If True, adds a tool that allows the LLM to search the knowledge base.
</ResponseField>
<ResponseField name="update_knowledge" type="bool" default="False">
  If True, adds a tool that allows the LLM to update the knowledge base.
</ResponseField>
<ResponseField name="read_tool_call_history" type="bool" default="False">
  If True, adds a tool that allows the LLM to get the tool call history.
</ResponseField>
<ResponseField name="use_tools" type="bool" default="False">
  Allow the agent to use tools
</ResponseField>

<ResponseField
  name="additional_messages"
  type="List[Union[Dict, Message]]"
></ResponseField>

<ResponseField name="additional_messages" type="List[Union[Dict, Message]]">
  List of additional messages added to the messages list after the system
  prompt. Use these for few-shot learning or to provide additional context to
  the LLM.
</ResponseField>

<ResponseField name="system_prompt" type="str">
  Provide the system prompt as a string
</ResponseField>
<ResponseField name="system_prompt_template" type="PromptTemplate">
  Provide the system prompt as a PromptTemplate
</ResponseField>
<ResponseField
  name="build_default_system_prompt"
  type="Callable[..., Optional[str]]"
>
  If True, build a default system prompt using instructions and
  extra_instructions
</ResponseField>
<ResponseField name="description" type="str">
  Agent description for the default system prompt
</ResponseField>
<ResponseField name="task" type="str">
  Agent task
</ResponseField>
<ResponseField name="instructions" type="List[str]">
  List of instructions for the default system prompt
</ResponseField>
<ResponseField name="extra_instructions" type="List[str]">
  List of extra_instructions for the default system prompt Use these when you
  want to use the default prompt but also add some extra instructions
</ResponseField>
<ResponseField name="expected_output" type="str">
  Expected output added to the system prompt
</ResponseField>
<ResponseField name="add_to_system_prompt" type="str">
  Add a string to the end of the default system prompt
</ResponseField>
<ResponseField
  name="add_knowledge_base_instructions"
  type="bool"
  default="True"
>
  If True, add instructions for using the knowledge base to the default system
  prompt if knowledge base is provided
</ResponseField>
<ResponseField name="prevent_hallucinations" type="bool" default="False">
  If True, add instructions for letting the user know that the agent does
  not know the answer
</ResponseField>
<ResponseField name="prevent_prompt_injection" type="bool" default="False">
  If True, add instructions to prevent prompt injection attacks
</ResponseField>
<ResponseField name="limit_tool_access" type="bool" default="False">
  If True, add instructions for limiting tool access to the default system
  prompt if tools are provided
</ResponseField>
<ResponseField name="add_datetime_to_instructions" type="bool" default="False">
  If True, add the current datetime to the prompt to give the agent a sense
  of time This allows for relative times like "tomorrow" to be used in the
  prompt
</ResponseField>
<ResponseField name="markdown" type="bool" default="False">
  If markdown=true, formats the output using markdown
</ResponseField>

<ResponseField name="user_prompt" type="Union[List[Dict], str]">
  Provides the user prompt as a string. Note: this will ignore the input message provided to the run function
</ResponseField>
<ResponseField name="user_prompt_template" type="PromptTemplate">
  Provides the user prompt as a PromptTemplate
</ResponseField>
<ResponseField name="build_default_user_prompt" type="bool" default="True">
  If True, build a default user prompt using references and chat history
</ResponseField>
<ResponseField name="references_function" type="Callable[..., Optional[str]]">
Function to build references for the default `user_prompt`. This function, if provided, is called when `add_references_to_prompt` is True

Signature:

```python
def references(agent: Agent, query: str) -> Optional[str]:
    ...
```

</ResponseField>
<ResponseField name="references_format" type="Literal['json', 'yaml']" default="json">
  Format of the references
</ResponseField>
<ResponseField name="chat_history_function" type="Callable[..., Optional[str]]">
Function to build the chat_history for the default `user_prompt`. This function, if provided, is called when `add_chat_history_to_prompt` is True

Signature:

```python
def chat_history(agent: Agent) -> str:
    ...
```

</ResponseField>

<ResponseField name="output_model" type="Union[str, List, Type[BaseModel]]">
  Provide an output model for the responses
</ResponseField>
<ResponseField name="parse_output" type="bool" default="True">
  If True, the output is converted into the output_model (pydantic model or json
  dict)
</ResponseField>
<ResponseField name="output" type="Any">
  Final LLM response i.e. the final output of this agent
</ResponseField>
<ResponseField name="save_output_to_file" type="Str">
  Save the output to a file
</ResponseField>

<ResponseField name="task_data" type="Dict[str, Any]">
  Metadata associated with the agent tasks
</ResponseField>

<ResponseField name="team" type="List['Agent']">
  Agent team.
</ResponseField>
<ResponseField name="role" type="str">
  When the agent is part of a team, this is the role of the agent in the
  team
</ResponseField>
<ResponseField name="add_delegation_instructions" type="bool" default="True">
  Add instructions for delegating tasks to another agents
</ResponseField>

<ResponseField name="debug_mode" type="bool" default="False">
  If True, show debug logs
</ResponseField>
<ResponseField name="monitoring" type="bool" default="False">
  If True, logs Agent runs on phidata.com
</ResponseField>
